---
import { tv, type VariantProps } from "tailwind-variants";
import { Icon } from "astro-icon/components";

const styles = tv({
  base: "inline-flex items-center justify-center transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background",
  variants: {
    size: {
      sm: "p-2",
      md: "p-2.5",
      lg: "p-3",
    },
    variant: {
      default: "text-foreground/70 hover:text-foreground",
      ghost: "text-foreground/70 hover:bg-surface/50 hover:text-foreground",
    },
  },
  defaultVariants: {
    size: "sm",
    variant: "default",
  },
});

const iconStyles = tv({
  base: "shrink-0",
  variants: {
    size: {
      sm: "size-5",
      md: "size-6",
      lg: "size-7",
    },
  },
});

interface Props extends VariantProps<typeof styles> {
  href: string;
  icon: string; // Icon name from src/assets/icons/
  ariaLabel: string;
  class?: string;
}

const { href, icon, ariaLabel, size, variant, class: className } = Astro.props;
---

<a
  href={href}
  target="_blank"
  rel="noopener noreferrer"
  aria-label={ariaLabel}
  class={styles({ size, variant, className })}
>
  <Icon name={icon} class={iconStyles({ size })} />
</a>
