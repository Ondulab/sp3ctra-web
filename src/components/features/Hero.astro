---
import placeholderDevice from "../../assets/images/hero/placeholder-device.svg";
import Button from "../base/Button.astro";";

  headline: string;
  subheadline?: string;
  description: string;
  cta: {
    label: string;
    href: string;
    variant?: "primary" | "secondary";
  };
  recognitionBadge: {
    text: string;
    icon?: string;
    alt?: string;
  };
  imageAlt: string;
}

interface Props {
  content: HeroContent;
  imageSrc?: string | any; // Path or Astro ImageMetadata
  layout?: "centered" | "split"; // Centered: text over image, Split: text + image side-by-side
  class?: string;
}

const { content, imageSrc = placeholderDevice, layout = "split", class: className } = Astro.props;

const { headline, subheadline, description, cta, recognitionBadge, imageAlt } = content;
---

<section class={`hero-section py-16 md:py-24 lg:py-32 ${className || ""}`}>
  <div class="container mx-auto px-4 md:px-6 lg:px-8">
    {
      layout === "split" ? (
        <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2 lg:gap-16">
          {/* Content Column */}
          <div class="space-y-8">
            {/* Recognition Badge */}
            <div class="flex items-center gap-3">
              {recognitionBadge.icon && (
                <img
                  src={recognitionBadge.icon}
                  alt={recognitionBadge.alt || ""}
                  class="h-8 w-8 flex-shrink-0"
                />
              )}
              <span class="text-foreground/80 text-sm font-medium">{recognitionBadge.text}</span>
            </div>

            {/* Headlines */}
            <div class="space-y-4">
              <Heading as="h1" level="h1" color="gradient" class="max-w-xl">
                {headline}
              </Heading>
              {subheadline && (
                <Heading as="h2" level="h3" color="muted" class="max-w-2xl">
                  {subheadline}
                </Heading>
              )}
            </div>

            {/* Description */}
            <p class="text-foreground/80 max-w-2xl text-lg leading-relaxed md:text-xl">
              {description}
            </p>

            {/* CTA Button */}
            <div class="pt-4">
              <Button
                href={cta.href}
                variant={cta.variant || "primary"}
                size="lg"
                class="min-w-[200px]"
              >
                {cta.label}
              </Button>
            </div>
          </div>

          {/* Image Column */}
          <div class="relative">
            <div class="bg-surface aspect-[4/3] overflow-hidden rounded-2xl lg:aspect-[3/4]">
              <Image
                src={imageSrc}
                alt={imageAlt}
                class="h-full w-full object-cover"
                widths={[375, 768, 1024, 1920]}
                sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 600px"
                format="webp"
                loading="eager"
              />
            </div>
          </div>
        </div>
      ) : (
        <div class="relative mx-auto max-w-4xl text-center">
          {/* Background Image (if centered layout) */}
          <div class="absolute inset-0 -z-10 overflow-hidden rounded-3xl">
            <Image
              src={imageSrc}
              alt=""
              class="h-full w-full object-cover opacity-20"
              widths={[768, 1024, 1920]}
              sizes="100vw"
              format="webp"
              loading="eager"
            />
          </div>

          {/* Content */}
          <div class="space-y-8 py-16 md:py-24">
            {/* Recognition Badge */}
            <div class="flex items-center justify-center gap-3">
              {recognitionBadge.icon && (
                <img src={recognitionBadge.icon} alt={recognitionBadge.alt || ""} class="h-8 w-8" />
              )}
              <span class="text-foreground/80 text-sm font-medium">{recognitionBadge.text}</span>
            </div>

            {/* Headlines */}
            <div class="space-y-4">
              <Heading as="h1" level="h1" color="gradient">
                {headline}
              </Heading>
              {subheadline && (
                <Heading as="h2" level="h3" color="muted">
                  {subheadline}
                </Heading>
              )}
            </div>

            {/* Description */}
            <p class="text-foreground/80 mx-auto max-w-2xl text-lg leading-relaxed md:text-xl">
              {description}
            </p>

            {/* CTA Button */}
            <div class="pt-4">
              <Button
                href={cta.href}
                variant={cta.variant || "primary"}
                size="lg"
                class="min-w-[200px]"
              >
                {cta.label}
              </Button>
            </div>
          </div>
        </div>
      )
    }
  </div>
</section>
